<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:outputStylesheet library="css" name="grid.css"/>
    <h:outputStylesheet library="css" name="main.css"/>

    <title>Morado</title>
    <div class="ui-g">

        <div class="ui-g-12 ui-md-12">
            <ui:include src="cabecera.xhtml"/>
            <div>
                <h:form>
                    <c:if test="#{prefs.usuarioVacio()}">
                        <p:commandButton value="Desloguearse: #{prefs.actualUsuarioid}" ajax="false" validateClient="false" action="#{prefs.logout()}"/>
                    </c:if>
                </h:form>
            </div>
            <div class="ui-g">
                <div class="ui-g-8 ui-md-2">
                    <p:scrollPanel mode="native" style="width:100%;height:100%">

                    </p:scrollPanel>
                </div>  
                <div class="ui-g-8">
                    <h1 align="center">Haz click en la imagen para comenzar tu aventura!</h1>
                    <a href="http://moradouja.000webhostapp.com/" > 
                        <h:graphicImage library="images" name="purple.jpg" width="90%" height="90%" styleClass="imgcentral"></h:graphicImage>
                    </a>
                    <div class="ui-g-6 ui-md-6" align="center">
                        <h:form>
                            <p:commandButton value="Registro" ajax="false" validateClient="false" action="#{prefs.wantReg()}"/>
                        </h:form>
                    </div>  

                    <div class="ui-g-6 ui-md-6" align="center">
                        <h:form>
                            <p:commandButton value="Log in" ajax="false" validateClient="false" action="#{prefs.wantLog()}"/>
                        </h:form>

                    </div>

                </div> 
                <div class="ui-g-8 ui-md-2">

                    <p:scrollPanel mode="native" style="width:100%;height:100%">
                        <h1 align="center">Creadores</h1>
                        <p align="center">Alberto Vicente Campos</p>
                        <p align="center">Rubén Guijarro Ortega</p>
                        <p align="center">Juan Alberto Medina Martínez</p>
                        <p align="center">David Padilla Montero</p>
                        <p align="center">Estudiantes de UJA en ingeniería informática</p>
                    </p:scrollPanel>
                </div> 
            </div>

        </div>
        
        <div align="center" class="ui-g-12 ">
            <br/>
            <br/>
            <c:if test="#{prefs.wannaRegis}">
                <h:form title="Signup">
                    <p:panel>
                        <h1>Registrarse</h1>

                        <p>Añade tus datos para registrarte</p>
                        <p:message for="txtNombre"/>
                        <p:message for="txtApellidos"/>
                        <p:message for="txtUsuario"/>
                        <p:message for="txtClave"/>
                        <p:message for="txtConfirma"/>
                        <h:panelGrid columns="2">
                            <p:outputLabel for="txtNombre" value="Nombre"/>
                            <p:inputText  id="txtNombre" required="true" value="#{ctrlCliente.cliente.nombre}" label="Error"></p:inputText>

                            <p:outputLabel for="txtApellidos"  value="Apellidos"/>
                            <p:inputText id="txtApellidos" required="true" value="#{ctrlCliente.cliente.apellidos}"/>

                            <p:outputLabel for="txtUsuario"  value="Usuario"/>
                            <p:inputText id="txtUsuario" required="true" value="#{ctrlCliente.cliente.usuario}"/>

                            <p:outputLabel  for="txtClave" value="Clave"/>
                            <p:password id="txtClave" required="true" value="#{ctrlCliente.cliente.password}"/>
                            <p:outputLabel  for="txtConfirma" value="Confirmar clave"/>
                            <p:password id="txtConfirma" required="true"/>
                            <br />
                            <h:column/><h:column/>
                            <p:commandButton value="Registrarse" ajax="false" validateClient="false" action="#{ctrlCliente.crea()}"/>
                            <br/>
                            <br/>

                            <h:column/>

                        </h:panelGrid>


                    </p:panel>                
                </h:form>
            </c:if>
            <c:if test="#{prefs.wannaLog}">
                <h:form >
                    <p:panel>
                        <h1 align="center">Iniciar sesión</h1>
                        <p:message for="j_username"/>
                        <p:message for="j_password"/>
                        <div align="center">
                            <h:panelGrid columns="2">
                                <p:outputLabel for="j_username"  value="Usuario"/>
                                <p:inputText id="j_username" required="true" value="#{ctrlCliente.cliente.usuario}"/>

                                <p:outputLabel  for="j_password" value="Clave"/>
                                <p:password id="j_password" required="true" value="#{ctrlCliente.cliente.password}"/>
                                <br />
                                <div align="center">
                                    <p:column/><p:column/>
                                    <p:commandButton styleClass="boton" 
                                                     value="Iniciar sesión" ajax="false" validateClient="false" action="#{ctrlCliente.login()}" />                    

                                </div>             
                            </h:panelGrid>
                        </div>
                    </p:panel>  

                </h:form>
            </c:if>
            <br/>
            <br/>
        </div>
        <ui:include src="pie.xhtml"/>
    </div>


</html>

